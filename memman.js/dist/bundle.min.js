var version=function(e){"use strict";const n=[];let t=null;const o=new Set;function r(){const e=Array.from(o);o.clear();for(const n of e)n.cleanup&&n.cleanup(),n.cleanup=n.fn()}function c(e){return new Proxy({},{get:(n,t)=>"valueOf"===t||"toString"===t?e:Reflect.get(n,t),apply:(n,t,o)=>e.apply(t,o)})}function s(e){if(null==e)throw new Error("Initial value cannot be null or undefined.");let n=e,o=new Set;function s(){return t&&o.add(t),r(),n}return[c(s),function e(t){return"function"==typeof t&&(t=t(n)),n!==t&&(n=t,o.forEach((e=>e())),r()),[c(s),e]}]}const u=new Map;function a(e,t){const o=n[n.length-1];if(!o)throw new Error("No hay un componente actual establecido.");const r={fn:e,deps:t,cleanup:null},c=u.get(o)||new Set,s=Array.from(c).find((n=>n.fn===e));if(!s)return c.add(r),void u.set(o,c);if(!t)return r.cleanup=s.cleanup,c.add(r),void u.set(o,c);!s.deps||t.some(((e,n)=>!Object.is(e,s.deps[n])))?(s.cleanup&&s.cleanup(),c.delete(s),c.add(r),u.set(o,c)):(c.add(s),u.set(o,c))}function i(e){return{current:e}}function l(e){const[n,t]=s(e);return[n(),function(e){t("function"==typeof e?n=>e(n):e)}]}function f(e){return s(e)}const d={components:{},lastId:0};function m(e){const n=e.render(),t=`<script>window.__MEMMAN_STATE__=${JSON.stringify(d)}<\/script>`;return n.innerHTML=t+n.innerHTML,n.outerHTML}function p(e){try{d.components=e.components,d.lastId=e.lastId}catch(e){console.error("Error al actualizar el estado: ",e)}Object.entries(d.components).forEach((([e,n])=>{const t=document.querySelector(`[data-memman-id="${e}"]`);t&&t.replaceWith(n)}))}return e.createApp=function(e,n={}){const t=function(e){return{get:function(n){return e[n]}}}(n);return{mount:function(n){const o=document.querySelector(n);o.innerHTML="";const r=(c=e,function(...e){const n=c.apply(this,e),t="function"==typeof n?n():n;return this&&this.parentNode,t})(t);var c;r instanceof Node?o.appendChild(r):console.error("Error: el componente no es un objeto Node vÃ¡lido")}}},e.createComponent=function(e){class n{constructor(e){this.props=e,this.element=null,this.id=null}render(){return this.element||(this.element=e(this.props),this.id=d.lastId++,this.element.setAttribute("data-memman-id",this.id),d.components[this.id]=this.element),this.element}}return n.isMemmanComponent=!0,n},e.createElement=function(e,n={},...t){const o=document.createElement(e);if(n&&"object"==typeof n)for(const[e,t]of Object.entries(n))"className"===e?o.classList.add(t):e.startsWith("on")?o.addEventListener(e.slice(2).toLowerCase(),t):"style"===e&&"object"==typeof t?Object.assign(o.style,t):o.setAttribute(e,t);for(const e of t.flat())if("string"==typeof e)o.appendChild(document.createTextNode(e));else if(e instanceof HTMLElement)o.appendChild(e);else if(e&&"object"==typeof e&&"text"===e.type)e.hasOwnProperty("content")&&o.appendChild(document.createTextNode(e.content));else if("function"==typeof e){const n=e();o.appendChild(document.createTextNode(String(n)))}else o.appendChild(document.createTextNode(String(e)));const r=d.lastId++;return o.setAttribute("data-memman-id",r),d.components[r]=o,o},e.default=function(){console.log("version 0.0.1")},e.memmanCreateSignal=s,e.memmanRef=i,e.memmanUse=function(e,...n){return e(...n)},e.memmanUseCallback=function(e,n){const[t,o]=s(e);return a((()=>{o(e)}),n),t()},e.memmanUseEffect=a,e.memmanUseLayoutEffect=function(e,n){if(n&&!Array.isArray(n))throw new Error("Dependencies should be an array.");const o=t;t=e;const r=i(null),c=f(n);return n&&areDependenciesEqual(n,c.current)||(r.current&&r.current(),r.current=e(),c.current=n),t=o,()=>{r.current&&r.current()}},e.memmanUseMemo=function(e,n){const[t,o]=s(null);return a((()=>{o(e())}),n),t()},e.memmanUseReducer=function(e,n){const[t,o]=l(n);return[t,function(n){const r=e(t,n);o(r)}]},e.memmanUseRef=f,e.memmanUseState=l,e.renderMemmanComponent=function(e,n){return m(new e(n))},e.updateState=p,e.useDynamicState=function(e){const n={value:e,setValue(e){n.value=e,p(n)}};return[n.value,n.setValue]},Object.defineProperty(e,"__esModule",{value:!0}),e}({});
